# 요구사항 추적성 매트릭스 (025-traceability-matrix.md)

**Template Version:** 1.0.0 — **Last Updated:** 2025-12-28

> **목적**: PRD → 설계 → 테스트 3단계 양방향 추적
>
> **참조**: 이 문서는 `010-design.md`와 `026-test-specification.md`와 함께 사용됩니다.

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-03-01 |
| Task명 | Task 상세 API 및 템플릿 |
| 설계 참조 | `010-design.md` |
| 테스트 명세 참조 | `026-test-specification.md` |
| 작성일 | 2025-12-28 |
| 작성자 | Claude |

---

## 1. 기능 요구사항 추적 (FR → 설계 → 테스트)

> PRD → 설계 → 테스트케이스 매핑

| 요구사항 ID | PRD 섹션 | 설계 섹션 | 단위 테스트 | E2E 테스트 | 매뉴얼 TC | 상태 |
|-------------|----------|-----------|-------------|------------|-----------|------|
| FR-001 | PRD 3.2 ID | 010 §5.2, §12 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-002 | PRD 3.2 Title | 010 §5.2, §12 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-003 | PRD 3.2 Status | 010 §5.2, §12 | UT-002 | E2E-001 | TC-001 | 설계완료 |
| FR-004 | PRD 3.2 Category | 010 §5.2, §12 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-005 | PRD 3.2 Priority | 010 §5.2, §12 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-006 | PRD 3.2 Depends | 010 §5.2, §12 | UT-001 | E2E-001 | TC-001 | 설계완료 |
| FR-007 | PRD 3.2 Documents | 010 §5.2, §12 | UT-003 | E2E-002 | TC-002 | 설계완료 |

### 1.1 요구사항별 상세 매핑

#### FR-001: Task ID 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 3.2 | Task 식별자 표시 |
| 설계 | 010-design.md | 5.2 | Task ID 헤더 표시 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-001: API 응답 검증 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 상세 패널 표시 |

#### FR-003: Status 배지 표시

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 3.2 | 현재 상태 + 라벨 |
| 설계 | 010-design.md | 12.3 | 상태 색상 매핑, 배지 스타일 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-002: 상태 색상 매핑 검증 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-001: 배지 표시 확인 |

#### FR-007: Documents 링크 목록

| 설계 단계 | 문서 | 섹션 | 구현 항목 |
|----------|------|------|----------|
| PRD | prd.md | 3.2 | 관련 문서 링크 |
| 설계 | 010-design.md | 5.2, 12.2 | Documents 섹션 템플릿 |
| 단위 테스트 | 026-test-specification.md | 2.1 | UT-003: 문서 목록 반환 검증 |
| E2E 테스트 | 026-test-specification.md | 3.1 | E2E-002: 문서 목록 표시 |

---

## 2. 비즈니스 규칙 추적 (BR → 구현 → 검증)

| 규칙 ID | PRD 출처 | 설계 섹션 | 구현 위치(개념) | 단위 테스트 | E2E 테스트 | 검증 방법 | 상태 |
|---------|----------|----------|-----------------|-------------|------------|-----------|------|
| BR-001 | PRD 3.2 | 010 §8.1 | API 라우트 | UT-004 | E2E-003 | 미존재 Task ID 요청 시 404 반환 확인 | 설계완료 |
| BR-002 | PRD 3.2 | 010 §8.1 | 템플릿 | UT-003 | E2E-002 | 실제 존재하는 파일만 표시 확인 | 설계완료 |

### 2.1 비즈니스 규칙별 상세 매핑

#### BR-001: Task 존재 검증

| 구분 | 내용 |
|------|------|
| **PRD 원문** | Task 상세 정보 API (PRD 3.2) |
| **설계 표현** | `/api/detail/{task_id}` 요청 시 존재 검증 |
| **구현 위치** | API 라우트 핸들러 |
| **검증 방법** | 미존재 Task ID 요청 시 404 응답 확인 |
| **관련 테스트** | UT-004, E2E-003 |

#### BR-002: 문서 존재 확인

| 구분 | 내용 |
|------|------|
| **PRD 원문** | 관련 문서 링크 목록 (PRD 3.2) |
| **설계 표현** | 실제 존재하는 파일만 Documents 섹션에 표시 |
| **구현 위치** | get_task_documents 함수 |
| **검증 방법** | 파일시스템 스캔 후 존재하는 파일만 반환 |
| **관련 테스트** | UT-003, E2E-002 |

---

## 3. 테스트 역추적 매트릭스

> 테스트 결과 → 요구사항 역추적용 (build/verify 단계 결과서 생성 시 활용)

| 테스트 ID | 테스트 유형 | 검증 대상 요구사항 | 검증 대상 비즈니스 규칙 | 상태 |
|-----------|------------|-------------------|----------------------|------|
| UT-001 | 단위 | FR-001, FR-002, FR-004, FR-005, FR-006 | - | 미실행 |
| UT-002 | 단위 | FR-003 | - | 미실행 |
| UT-003 | 단위 | FR-007 | BR-002 | 미실행 |
| UT-004 | 단위 | - | BR-001 | 미실행 |
| E2E-001 | E2E | FR-001~FR-006 | - | 미실행 |
| E2E-002 | E2E | FR-007 | BR-002 | 미실행 |
| E2E-003 | E2E | - | BR-001 | 미실행 |
| TC-001 | 매뉴얼 | FR-001~FR-006 | - | 미실행 |
| TC-002 | 매뉴얼 | FR-007 | - | 미실행 |

---

## 4. 데이터 모델 추적

> 설계 엔티티 → 구현 모델 매핑

| 설계 엔티티 | 구현 모델 | API Response | 비고 |
|------------|---------|--------------|------|
| Task | orchay.models.Task | TaskDetail | Orchestrator.tasks에서 조회 |
| Document | str (파일명) | List[str] | 파일시스템 스캔 |

---

## 5. 인터페이스 추적

> 설계 인터페이스 요구사항 → API 엔드포인트 매핑

| 설계 인터페이스 | API | Method | Endpoint | 요구사항 |
|---------------|-----|--------|----------|----------|
| Task 상세 조회 | get_task_detail | GET | /api/detail/{task_id} | FR-001~FR-007 |

---

## 6. 화면 추적

> 설계 화면 요구사항 → 템플릿 매핑

| 설계 화면 | 템플릿 | 구성 요소 | 요구사항 |
|----------|--------|----------|----------|
| Task 상세 패널 | partials/detail.html | 헤더, 속성, 문서 목록 | FR-001~FR-007 |

---

## 7. 추적성 검증 요약

### 7.1 커버리지 통계

| 구분 | 총 항목 | 매핑 완료 | 미매핑 | 커버리지 |
|------|---------|----------|--------|---------|
| 기능 요구사항 (FR) | 7 | 7 | 0 | 100% |
| 비즈니스 규칙 (BR) | 2 | 2 | 0 | 100% |
| 단위 테스트 (UT) | 4 | 4 | 0 | 100% |
| E2E 테스트 | 3 | 3 | 0 | 100% |
| 매뉴얼 테스트 (TC) | 2 | 2 | 0 | 100% |

### 7.2 미매핑 항목 (있는 경우)

| 구분 | ID | 설명 | 미매핑 사유 |
|------|-----|------|-----------|
| - | - | - | - |

---

## 관련 문서

- 설계: `010-design.md`
- 테스트 명세: `026-test-specification.md`
- PRD: `.orchay/projects/orchay_web/prd.md`
- TRD: `.orchay/projects/orchay_web/trd.md`

---

<!--
TSK-03-01 요구사항 추적성 매트릭스
Version: 1.0
Created: 2025-12-28
-->
