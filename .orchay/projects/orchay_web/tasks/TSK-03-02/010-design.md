# TSK-03-02 - Worker ìƒíƒœ ë°” êµ¬í˜„ ì„¤ê³„ ë¬¸ì„œ

## ë¬¸ì„œ ì •ë³´

| í•­ëª© | ë‚´ìš© |
|------|------|
| Task ID | TSK-03-02 |
| ë¬¸ì„œ ë²„ì „ | 1.0 |
| ì‘ì„±ì¼ | 2025-12-28 |
| ìƒíƒœ | ì‘ì„±ì¤‘ |
| ì¹´í…Œê³ ë¦¬ | development |

---

## 1. ê°œìš”

### 1.1 ë°°ê²½ ë° ë¬¸ì œ ì •ì˜

**í˜„ì¬ ìƒí™©:**
- orchay ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” í„°ë¯¸ë„ TUIì—ì„œë§Œ Worker ìƒíƒœ í™•ì¸ ê°€ëŠ¥
- ì—¬ëŸ¬ Workerê°€ ë™ì‹œì— ì‘ì—…í•  ë•Œ ìƒíƒœ íŒŒì•…ì´ ì–´ë ¤ì›€
- ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì‹œ í„°ë¯¸ë„ì„ ê³„ì† í™•ì¸í•´ì•¼ í•¨

**í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œ:**
- ë¸Œë¼ìš°ì €ì—ì„œ Worker ìƒíƒœë¥¼ ì§ê´€ì ìœ¼ë¡œ í™•ì¸ í•„ìš”
- ê° Workerì˜ í˜„ì¬ ìƒíƒœ, ì‘ì—… ì¤‘ì¸ Task í•œëˆˆì— íŒŒì•…
- ì‹¤ì‹œê°„ ìë™ ê°±ì‹ ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§ í¸ì˜ì„± í–¥ìƒ

### 1.2 ëª©ì  ë° ê¸°ëŒ€ íš¨ê³¼

**ëª©ì :**
- ì›¹ UIì—ì„œ ëª¨ë“  Workerì˜ ìƒíƒœë¥¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œí•˜ëŠ” ìƒíƒœ ë°” êµ¬í˜„

**ê¸°ëŒ€ íš¨ê³¼:**
- í„°ë¯¸ë„ ì—†ì´ ë¸Œë¼ìš°ì €ì—ì„œ Worker ìƒíƒœ í™•ì¸
- ìƒíƒœë³„ ìƒ‰ìƒ/ì•„ì´ì½˜ìœ¼ë¡œ ë¹ ë¥¸ ìƒíƒœ íŒŒì•…
- í˜„ì¬ ì‘ì—… ì¤‘ì¸ Task ID ì¦‰ì‹œ í™•ì¸

### 1.3 ë²”ìœ„

**í¬í•¨:**
- Worker ìƒíƒœ ë°” API ì—”ë“œí¬ì¸íŠ¸ (`/api/workers`)
- workers.html íŒŒì…œ í…œí”Œë¦¿
- ìƒíƒœë³„ ì•„ì´ì½˜ ë° ìƒ‰ìƒ í‘œì‹œ
- í˜„ì¬ ì‘ì—… ì¤‘ì¸ Task í‘œì‹œ
- HTMXë¥¼ í†µí•œ 5ì´ˆ ìë™ ê°±ì‹ 

**ì œì™¸:**
- Worker ì œì–´ ê¸°ëŠ¥ (ì‹œì‘/ì¤‘ì§€)
- Worker ë¡œê·¸ ìƒì„¸ ë³´ê¸°
- Worker íˆìŠ¤í† ë¦¬ ê¸°ë¡

### 1.4 ì°¸ì¡° ë¬¸ì„œ

| ë¬¸ì„œ | ê²½ë¡œ | ê´€ë ¨ ì„¹ì…˜ |
|------|------|----------|
| PRD | `.orchay/projects/orchay_web/prd.md` | 3.3 Worker ìƒíƒœ í‘œì‹œ |
| TRD | `.orchay/projects/orchay_web/trd.md` | ì•„í‚¤í…ì²˜, API ì„¤ê³„ |

---

## 2. ì‚¬ìš©ì ë¶„ì„

### 2.1 ëŒ€ìƒ ì‚¬ìš©ì

| ì‚¬ìš©ì ìœ í˜• | íŠ¹ì„± | ì£¼ìš” ë‹ˆì¦ˆ |
|------------|------|----------|
| ê°œë°œì | orchay ìŠ¤ì¼€ì¤„ëŸ¬ ì‚¬ìš©ì | ì‘ì—… ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§ |
| íŒ€ ë¦¬ë” | í”„ë¡œì íŠ¸ ê´€ë¦¬ì | ì „ì²´ ì›Œí¬í”Œë¡œìš° ìƒíƒœ íŒŒì•… |

### 2.2 ì‚¬ìš©ì í˜ë¥´ì†Œë‚˜

**í˜ë¥´ì†Œë‚˜ 1: ê°œë°œì ê¹€ì² ìˆ˜**
- ì—­í• : ë°±ì—”ë“œ ê°œë°œì
- ëª©í‘œ: ì—¬ëŸ¬ Workerê°€ ì²˜ë¦¬ ì¤‘ì¸ Task ìƒíƒœ í•œëˆˆì— íŒŒì•…
- ë¶ˆë§Œ: í„°ë¯¸ë„ì„ ë§¤ë²ˆ í™•ì¸í•˜ê¸° ë²ˆê±°ë¡œì›€
- ì‹œë‚˜ë¦¬ì˜¤: ë¸Œë¼ìš°ì € íƒ­ì„ ì—´ì–´ë†“ê³  ì‘ì—…í•˜ë©´ì„œ Worker ìƒíƒœ í™•ì¸

---

## 3. ìœ ì¦ˆì¼€ì´ìŠ¤

### 3.1 ìœ ì¦ˆì¼€ì´ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨

```mermaid
flowchart LR
    subgraph ì‹œìŠ¤í…œ
        UC01[UC-01: Worker ìƒíƒœ ì¡°íšŒ]
        UC02[UC-02: ì‹¤ì‹œê°„ ìƒíƒœ ê°±ì‹ ]
    end

    ì‚¬ìš©ì((ì‚¬ìš©ì)) --> UC01
    ì‚¬ìš©ì --> UC02
```

### 3.2 ìœ ì¦ˆì¼€ì´ìŠ¤ ìƒì„¸

#### UC-01: Worker ìƒíƒœ ì¡°íšŒ

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì•¡í„° | ê°œë°œì/ê´€ë¦¬ì |
| ëª©ì  | ëª¨ë“  Workerì˜ í˜„ì¬ ìƒíƒœ í™•ì¸ |
| ì‚¬ì „ ì¡°ê±´ | ì›¹ì„œë²„ ì‹¤í–‰ ì¤‘, Orchestrator í™œì„±í™” |
| ì‚¬í›„ ì¡°ê±´ | Worker ìƒíƒœ ì •ë³´ í™”ë©´ì— í‘œì‹œ |
| íŠ¸ë¦¬ê±° | í˜ì´ì§€ ë¡œë“œ ë˜ëŠ” 5ì´ˆ ìë™ ê°±ì‹  |

**ê¸°ë³¸ íë¦„:**
1. ì‚¬ìš©ìê°€ ì›¹ í˜ì´ì§€ì— ì ‘ì†í•œë‹¤
2. ì‹œìŠ¤í…œì´ `/api/workers` APIë¥¼ í˜¸ì¶œí•œë‹¤
3. ì„œë²„ê°€ Orchestratorì—ì„œ Worker ëª©ë¡ì„ ì¡°íšŒí•œë‹¤
4. ê° Workerì˜ ìƒíƒœ ì •ë³´ë¥¼ HTMLë¡œ ë Œë”ë§í•œë‹¤
5. ì‚¬ìš©ìì—ê²Œ ìƒíƒœ ë°”ê°€ í‘œì‹œëœë‹¤

**ëŒ€ì•ˆ íë¦„:**
- 3a. Workerê°€ ì—†ëŠ” ê²½ìš°:
  - ì‹œìŠ¤í…œì´ "No workers" ë©”ì‹œì§€ë¥¼ í‘œì‹œí•œë‹¤

**ì˜ˆì™¸ íë¦„:**
- 3b. Orchestrator ì—°ê²° ì‹¤íŒ¨:
  - ì‹œìŠ¤í…œì´ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•œë‹¤
  - 5ì´ˆ í›„ ìë™ ì¬ì‹œë„

#### UC-02: ì‹¤ì‹œê°„ ìƒíƒœ ê°±ì‹ 

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì•¡í„° | ì‹œìŠ¤í…œ (HTMX) |
| ëª©ì  | Worker ìƒíƒœ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ |
| ì‚¬ì „ ì¡°ê±´ | í˜ì´ì§€ ë Œë”ë§ ì™„ë£Œ |
| ì‚¬í›„ ì¡°ê±´ | ìƒíƒœ ë°” ë‚´ìš© ê°±ì‹  |
| íŠ¸ë¦¬ê±° | 5ì´ˆ íƒ€ì´ë¨¸ |

**ê¸°ë³¸ íë¦„:**
1. HTMXê°€ 5ì´ˆë§ˆë‹¤ `/api/workers` ìš”ì²­
2. ì„œë²„ê°€ í˜„ì¬ Worker ìƒíƒœ ë°˜í™˜
3. HTMXê°€ ìƒíƒœ ë°” ì˜ì—­ innerHTML êµì²´
4. ê¹œë¹¡ì„ ì—†ì´ ë¶€ë“œëŸ½ê²Œ ê°±ì‹ 

---

## 4. ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

### 4.1 ì‹œë‚˜ë¦¬ì˜¤ 1: Worker ìƒíƒœ ëª¨ë‹ˆí„°ë§

**ìƒí™© ì„¤ëª…:**
ê°œë°œìê°€ ì—¬ëŸ¬ Taskë¥¼ ë°°ì¹˜ ì‹¤í–‰í•˜ê³  ë¸Œë¼ìš°ì €ì—ì„œ ì§„í–‰ ìƒí™©ì„ í™•ì¸í•˜ê³ ì í•¨

**ë‹¨ê³„ë³„ ì§„í–‰:**

| ë‹¨ê³„ | ì‚¬ìš©ì í–‰ë™ | ì‹œìŠ¤í…œ ë°˜ì‘ | ì‚¬ìš©ì ê¸°ëŒ€ |
|------|-----------|------------|------------|
| 1 | ì›¹ í˜ì´ì§€ ì ‘ì† | Worker ìƒíƒœ ë°” ë Œë”ë§ | ëª¨ë“  Worker ìƒíƒœ í‘œì‹œ |
| 2 | í™”ë©´ ê´€ì°° | 5ì´ˆë§ˆë‹¤ ìë™ ê°±ì‹  | ìµœì‹  ìƒíƒœ ìœ ì§€ |
| 3 | busy Worker í™•ì¸ | ì‘ì—… ì¤‘ Task ID í‘œì‹œ | ì–´ë–¤ Task ì²˜ë¦¬ ì¤‘ì¸ì§€ íŒŒì•… |

**ì„±ê³µ ì¡°ê±´:**
- ëª¨ë“  Worker ìƒíƒœê°€ ì •í™•íˆ í‘œì‹œë¨
- ì‹¤ì‹œê°„ ê°±ì‹ ìœ¼ë¡œ ìƒíƒœ ë³€í™” ë°˜ì˜

### 4.2 ì‹œë‚˜ë¦¬ì˜¤ 2: ì—ëŸ¬ ìƒíƒœ í™•ì¸

**ìƒí™© ì„¤ëª…:**
Worker ì¤‘ í•˜ë‚˜ê°€ ì—ëŸ¬ ìƒíƒœì— ë¹ ì¡Œì„ ë•Œ ì¦‰ì‹œ ì¸ì§€

**ë‹¨ê³„ë³„ ì§„í–‰:**

| ë‹¨ê³„ | ì‚¬ìš©ì í–‰ë™ | ì‹œìŠ¤í…œ ë°˜ì‘ | ë³µêµ¬ ë°©ë²• |
|------|-----------|------------|----------|
| 1 | ìƒíƒœ ë°” í™•ì¸ | ğŸ”´ ì—ëŸ¬ ì•„ì´ì½˜ í‘œì‹œ | ì—ëŸ¬ Worker ì‹ë³„ |
| 2 | ì—ëŸ¬ Worker í™•ì¸ | ë¹¨ê°„ ë°°ê²½ìƒ‰ ê°•ì¡° | í„°ë¯¸ë„ì—ì„œ ìƒì„¸ í™•ì¸ |

---

## 5. í™”ë©´ ì„¤ê³„

### 5.1 í™”ë©´ íë¦„ë„

```mermaid
flowchart LR
    A[í˜ì´ì§€ ë¡œë“œ] --> B[Worker ìƒíƒœ ë°” ë Œë”ë§]
    B --> C[5ì´ˆ ëŒ€ê¸°]
    C --> D[ìë™ ê°±ì‹ ]
    D --> B
```

### 5.2 í™”ë©´ë³„ ìƒì„¸

#### Worker ìƒíƒœ ë°”

**í™”ë©´ ëª©ì :**
í—¤ë” ì˜ì—­ì— ëª¨ë“  Workerì˜ í˜„ì¬ ìƒíƒœë¥¼ ê°€ë¡œ ë°°ì—´ë¡œ í‘œì‹œ

**ì§„ì… ê²½ë¡œ:**
- ë©”ì¸ í˜ì´ì§€ í—¤ë” í•˜ë‹¨ì— ê³ ì • ìœ„ì¹˜

**ì™€ì´ì–´í”„ë ˆì„:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Workers:  ğŸŸ¢ W1       ğŸŸ¡ W2 (TSK-01-01)    ğŸŸ¡ W3 (TSK-02-01)   â”‚
â”‚           idle        busy                  busy                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í™”ë©´ ìš”ì†Œ ì„¤ëª…:**

| ì˜ì—­ | ì„¤ëª… | ì‚¬ìš©ì ì¸í„°ë™ì…˜ |
|------|------|----------------|
| Worker ì•„ì´ì½˜ | ìƒíƒœë³„ ìƒ‰ìƒ ì•„ì´ì½˜ | - |
| Worker ID | W1, W2, W3 í˜•ì‹ | - |
| í˜„ì¬ Task | busy ì‹œ Task ID í‘œì‹œ | í´ë¦­ ì‹œ ìƒì„¸ íŒ¨ë„ ì´ë™ ê°€ëŠ¥ |
| ìƒíƒœ ë¼ë²¨ | idle, busy, error ë“± | - |

**ìƒíƒœë³„ í‘œì‹œ:**

| ìƒíƒœ | ì•„ì´ì½˜ | ë°°ê²½ìƒ‰ (Tailwind) | í…ìŠ¤íŠ¸ |
|------|--------|------------------|--------|
| idle | ğŸŸ¢ | `bg-green-500/20` | idle |
| busy | ğŸŸ¡ | `bg-yellow-500/20` | busy |
| paused | â¸ï¸ | `bg-purple-500/20` | paused |
| error | ğŸ”´ | `bg-red-500/20` | error |
| blocked | âŠ˜ | `bg-gray-500/20` | blocked |
| dead | ğŸ’€ | `bg-gray-700/20` | dead |
| done | âœ… | `bg-emerald-500/20` | done |

### 5.3 ë°˜ì‘í˜• ë™ì‘

| í™”ë©´ í¬ê¸° | ë ˆì´ì•„ì›ƒ ë³€í™” | ì‚¬ìš©ì ê²½í—˜ |
|----------|--------------|------------|
| ë°ìŠ¤í¬í†± (1024px+) | ê°€ë¡œ ë°°ì—´, ëª¨ë“  Worker í‘œì‹œ | ì „ì²´ ìƒíƒœ í•œëˆˆì— |
| íƒœë¸”ë¦¿ (768-1023px) | ê°€ë¡œ ë°°ì—´, ì¶•ì•½ í‘œì‹œ | Task ID ì¶•ì•½ |
| ëª¨ë°”ì¼ (767px-) | 2ì—´ ê·¸ë¦¬ë“œ | ìŠ¤í¬ë¡¤ ê°€ëŠ¥ |

---

## 6. ì¸í„°ë™ì…˜ ì„¤ê³„

### 6.1 ì‚¬ìš©ì ì•¡ì…˜ê³¼ í”¼ë“œë°±

| ì‚¬ìš©ì ì•¡ì…˜ | ì¦‰ê° í”¼ë“œë°± | ê²°ê³¼ í”¼ë“œë°± | ì—ëŸ¬ í”¼ë“œë°± |
|------------|-----------|------------|------------|
| í˜ì´ì§€ ë¡œë“œ | ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤ | ìƒíƒœ ë°” í‘œì‹œ | ì—ëŸ¬ ë©”ì‹œì§€ |
| ìë™ ê°±ì‹  | - (ê¹œë¹¡ì„ ì—†ìŒ) | ìƒíƒœ ì—…ë°ì´íŠ¸ | ì¬ì‹œë„ |
| Worker í´ë¦­ | í˜¸ë²„ íš¨ê³¼ | ìƒì„¸ íŒ¨ë„ í‘œì‹œ | - |

### 6.2 ìƒíƒœë³„ í™”ë©´ ë³€í™”

| ìƒíƒœ | í™”ë©´ í‘œì‹œ | ì‚¬ìš©ì ì•ˆë‚´ |
|------|----------|------------|
| ì´ˆê¸° ë¡œë”© | ìŠ¤ì¼ˆë ˆí†¤ ì• ë‹ˆë©”ì´ì…˜ | - |
| Worker ì—†ìŒ | "No workers available" | ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰ ì•ˆë‚´ |
| ê°±ì‹  ì˜¤ë¥˜ | ë§ˆì§€ë§‰ ìƒíƒœ ìœ ì§€ | ì¬ì‹œë„ ì¤‘... |

### 6.3 HTMX ìë™ ê°±ì‹ 

```html
<div id="workers-bar"
     hx-get="/api/workers"
     hx-trigger="every 5s"
     hx-swap="innerHTML">
  <!-- Worker ìƒíƒœ í‘œì‹œ -->
</div>
```

---

## 7. ë°ì´í„° ìš”êµ¬ì‚¬í•­

### 7.1 í•„ìš”í•œ ë°ì´í„°

| ë°ì´í„° | ì„¤ëª… | ì¶œì²˜ | ìš©ë„ |
|--------|------|------|------|
| Worker.id | Worker ë²ˆí˜¸ | Orchestrator.workers | ì‹ë³„ í‘œì‹œ |
| Worker.state | í˜„ì¬ ìƒíƒœ | Orchestrator.workers | ì•„ì´ì½˜/ìƒ‰ìƒ ê²°ì • |
| Worker.current_task | ì‘ì—… ì¤‘ Task ID | Orchestrator.workers | Task ID í‘œì‹œ |
| Worker.pane_id | WezTerm íŒ¨ë„ ID | Orchestrator.workers | ë””ë²„ê¹… ì •ë³´ |

### 7.2 ë°ì´í„° ê´€ê³„

```mermaid
erDiagram
    Orchestrator ||--o{ Worker : contains
    Worker ||--o| Task : processes
```

**ê´€ê³„ ì„¤ëª…:**
- OrchestratorëŠ” ì—¬ëŸ¬ ê°œì˜ Workerë¥¼ ê´€ë¦¬
- ê° WorkerëŠ” ìµœëŒ€ 1ê°œì˜ Taskë¥¼ ì²˜ë¦¬ ì¤‘

### 7.3 ë°ì´í„° ìœ íš¨ì„± ê·œì¹™

| ë°ì´í„° í•„ë“œ | ê·œì¹™ | ìœ„ë°˜ ì‹œ ì²˜ë¦¬ |
|------------|------|--------------|
| Worker.id | 1 ì´ìƒ ì •ìˆ˜ | ê¸°ë³¸ê°’ 1 |
| Worker.state | WorkerState enum ê°’ | IDLE ê¸°ë³¸ê°’ |
| Worker.current_task | Task ID í˜•ì‹ ë˜ëŠ” None | None í‘œì‹œ |

---

## 8. ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™

### 8.1 í•µì‹¬ ê·œì¹™

| ê·œì¹™ ID | ê·œì¹™ ì„¤ëª… | ì ìš© ìƒí™© | ì˜ˆì™¸ |
|---------|----------|----------|------|
| BR-01 | busy ìƒíƒœ WorkerëŠ” current_task í‘œì‹œ í•„ìˆ˜ | busy ìƒíƒœì¼ ë•Œ | - |
| BR-02 | error ìƒíƒœëŠ” ë¹¨ê°„ìƒ‰ ê°•ì¡° | error ìƒíƒœì¼ ë•Œ | - |
| BR-03 | 5ì´ˆë§ˆë‹¤ ìë™ ê°±ì‹  | í˜ì´ì§€ í™œì„± ì‹œ | íƒ­ ë¹„í™œì„±í™” ì‹œ ì¤‘ë‹¨ |

### 8.2 ê·œì¹™ ìƒì„¸ ì„¤ëª…

**BR-01: busy Worker Task í‘œì‹œ**

ì„¤ëª…: Workerê°€ busy ìƒíƒœì¼ ë•ŒëŠ” ë°˜ë“œì‹œ ì–´ë–¤ Taskë¥¼ ì²˜ë¦¬ ì¤‘ì¸ì§€ í‘œì‹œ

ì˜ˆì‹œ:
- busy ìƒíƒœ + current_task ìˆìŒ: "ğŸŸ¡ W2 (TSK-01-01)"
- busy ìƒíƒœ + current_task ì—†ìŒ: "ğŸŸ¡ W2 (unknown)" (ë¹„ì •ìƒ)

**BR-02: error ìƒíƒœ ê°•ì¡°**

ì„¤ëª…: ì—ëŸ¬ ìƒíƒœ WorkerëŠ” ì¦‰ì‹œ ì£¼ì˜ë¥¼ ëŒ ìˆ˜ ìˆë„ë¡ ë¹¨ê°„ìƒ‰ ë°°ê²½ ì ìš©

---

## 9. ì—ëŸ¬ ì²˜ë¦¬

### 9.1 ì˜ˆìƒ ì—ëŸ¬ ìƒí™©

| ìƒí™© | ì›ì¸ | ì‚¬ìš©ì ë©”ì‹œì§€ | ë³µêµ¬ ë°©ë²• |
|------|------|--------------|----------|
| API í˜¸ì¶œ ì‹¤íŒ¨ | ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ | ë§ˆì§€ë§‰ ìƒíƒœ ìœ ì§€ | 5ì´ˆ í›„ ì¬ì‹œë„ |
| Orchestrator ë¯¸ì‹¤í–‰ | ì„œë²„ ì˜¤ë¥˜ | "Orchestrator not running" | ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰ ì•ˆë‚´ |
| Worker ì—†ìŒ | ì´ˆê¸° ìƒíƒœ | "No workers available" | ì •ìƒ ìƒíƒœ ì•ˆë‚´ |

### 9.2 ì—ëŸ¬ í‘œì‹œ ë°©ì‹

| ì—ëŸ¬ ìœ í˜• | í‘œì‹œ ìœ„ì¹˜ | í‘œì‹œ ë°©ë²• |
|----------|----------|----------|
| API ì˜¤ë¥˜ | ìƒíƒœ ë°” ì˜ì—­ | ê²½ê³  ë°°ê²½ìƒ‰ + ì¬ì‹œë„ ë©”ì‹œì§€ |
| Worker ì—†ìŒ | ìƒíƒœ ë°” ì˜ì—­ | íšŒìƒ‰ ì•ˆë‚´ í…ìŠ¤íŠ¸ |

---

## 10. ì—°ê´€ ë¬¸ì„œ

> ìƒì„¸ í…ŒìŠ¤íŠ¸ ëª…ì„¸ ë° ìš”êµ¬ì‚¬í•­ ì¶”ì ì€ ë³„ë„ ë¬¸ì„œì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤.

| ë¬¸ì„œ | ê²½ë¡œ | ìš©ë„ |
|------|------|------|
| ìš”êµ¬ì‚¬í•­ ì¶”ì  ë§¤íŠ¸ë¦­ìŠ¤ | `025-traceability-matrix.md` | PRD â†’ ì„¤ê³„ â†’ í…ŒìŠ¤íŠ¸ ì–‘ë°©í–¥ ì¶”ì  |
| í…ŒìŠ¤íŠ¸ ëª…ì„¸ì„œ | `026-test-specification.md` | ë‹¨ìœ„/E2E/ë§¤ë‰´ì–¼ í…ŒìŠ¤íŠ¸ ìƒì„¸ ì •ì˜ |

---

## 11. êµ¬í˜„ ë²”ìœ„

### 11.1 ì˜í–¥ë°›ëŠ” ì˜ì—­

| ì˜ì—­ | ë³€ê²½ ë‚´ìš© | ì˜í–¥ë„ |
|------|----------|--------|
| orchay/web/server.py | `/api/workers` ë¼ìš°íŠ¸ ì¶”ê°€ | ë†’ìŒ |
| orchay/web/templates/partials/workers.html | Worker ìƒíƒœ ë°” í…œí”Œë¦¿ | ë†’ìŒ |
| orchay/web/templates/index.html | ìƒíƒœ ë°” ì˜ì—­ ì¶”ê°€ | ì¤‘ê°„ |

### 11.2 íŒŒì¼ êµ¬ì¡°

```
orchay/src/orchay/web/
â”œâ”€â”€ server.py                    # FastAPI ì•± (ë¼ìš°íŠ¸ ì¶”ê°€)
â””â”€â”€ templates/
    â”œâ”€â”€ index.html              # ë©”ì¸ í˜ì´ì§€ (ìƒíƒœ ë°” ì˜ì—­)
    â””â”€â”€ partials/
        â””â”€â”€ workers.html        # Worker ìƒíƒœ ë°” íŒŒì…œ (ì‹ ê·œ)
```

### 11.3 API ì—”ë“œí¬ì¸íŠ¸

```python
@app.get("/api/workers")
async def get_workers() -> HTMLResponse:
    """Worker ìƒíƒœ ë°” HTML íŒŒì…œ ë°˜í™˜."""
    workers = orchestrator.workers
    return templates.TemplateResponse(
        "partials/workers.html",
        {"request": request, "workers": workers}
    )
```

### 11.4 í…œí”Œë¦¿ êµ¬ì¡°

**workers.html:**
```html
{% for worker in workers %}
<div class="flex items-center gap-2 px-3 py-2 rounded-lg {{ worker.state | status_bg }}">
  <span class="text-xl">{{ worker.state | status_icon }}</span>
  <div class="flex flex-col">
    <span class="font-medium">W{{ worker.id }}</span>
    {% if worker.current_task %}
    <span class="text-xs text-gray-400">({{ worker.current_task }})</span>
    {% endif %}
  </div>
  <span class="text-xs text-gray-500">{{ worker.state.value }}</span>
</div>
{% else %}
<div class="text-gray-500">No workers available</div>
{% endfor %}
```

### 11.5 Jinja2 í•„í„°

```python
def status_icon(state: WorkerState) -> str:
    icons = {
        WorkerState.IDLE: "ğŸŸ¢",
        WorkerState.BUSY: "ğŸŸ¡",
        WorkerState.PAUSED: "â¸ï¸",
        WorkerState.ERROR: "ğŸ”´",
        WorkerState.BLOCKED: "âŠ˜",
        WorkerState.DEAD: "ğŸ’€",
        WorkerState.DONE: "âœ…",
    }
    return icons.get(state, "â“")

def status_bg(state: WorkerState) -> str:
    colors = {
        WorkerState.IDLE: "bg-green-500/20",
        WorkerState.BUSY: "bg-yellow-500/20",
        WorkerState.PAUSED: "bg-purple-500/20",
        WorkerState.ERROR: "bg-red-500/20",
        WorkerState.BLOCKED: "bg-gray-500/20",
        WorkerState.DEAD: "bg-gray-700/20",
        WorkerState.DONE: "bg-emerald-500/20",
    }
    return colors.get(state, "bg-gray-500/20")
```

### 11.6 ì˜ì¡´ì„±

| ì˜ì¡´ í•­ëª© | ì´ìœ  | ìƒíƒœ |
|----------|------|------|
| TSK-01-02 | Jinja2 í…œí”Œë¦¿ ê¸°ë³¸ êµ¬ì¡° (base.html) | [dd] ìƒì„¸ì„¤ê³„ |
| Orchestrator | Worker ëª©ë¡ ë°ì´í„° ì†ŒìŠ¤ | ì™„ë£Œ |
| WorkerState enum | ìƒíƒœ ì •ì˜ | ì™„ë£Œ |

### 11.7 ì œì•½ ì‚¬í•­

| ì œì•½ | ì„¤ëª… | ëŒ€ì‘ ë°©ì•ˆ |
|------|------|----------|
| ë¹Œë“œ ë„êµ¬ ì—†ìŒ | npm ì‚¬ìš© ë¶ˆê°€ | Tailwind CDN ì‚¬ìš© |
| ë™ê¸° ë¸”ë¡œí‚¹ ê¸ˆì§€ | FastAPI async í•„ìˆ˜ | async í•¨ìˆ˜ë¡œ êµ¬í˜„ |
| JS í”„ë ˆì„ì›Œí¬ ê¸ˆì§€ | React/Vue ì‚¬ìš© ë¶ˆê°€ | HTMX + Jinja2 í™œìš© |

---

## 12. ì²´í¬ë¦¬ìŠ¤íŠ¸

### 12.1 ì„¤ê³„ ì™„ë£Œ í™•ì¸

- [x] ë¬¸ì œ ì •ì˜ ë° ëª©ì  ëª…í™•í™”
- [x] ì‚¬ìš©ì ë¶„ì„ ì™„ë£Œ
- [x] ìœ ì¦ˆì¼€ì´ìŠ¤ ì •ì˜ ì™„ë£Œ
- [x] ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„± ì™„ë£Œ
- [x] í™”ë©´ ì„¤ê³„ ì™„ë£Œ (ì™€ì´ì–´í”„ë ˆì„)
- [x] ì¸í„°ë™ì…˜ ì„¤ê³„ ì™„ë£Œ
- [x] ë°ì´í„° ìš”êµ¬ì‚¬í•­ ì •ì˜ ì™„ë£Œ
- [x] ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì •ì˜ ì™„ë£Œ
- [x] ì—ëŸ¬ ì²˜ë¦¬ ì •ì˜ ì™„ë£Œ

### 12.2 ì—°ê´€ ë¬¸ì„œ ì‘ì„±

- [ ] ìš”êµ¬ì‚¬í•­ ì¶”ì  ë§¤íŠ¸ë¦­ìŠ¤ ì‘ì„± (â†’ `025-traceability-matrix.md`)
- [ ] í…ŒìŠ¤íŠ¸ ëª…ì„¸ì„œ ì‘ì„± (â†’ `026-test-specification.md`)

### 12.3 êµ¬í˜„ ì¤€ë¹„

- [x] êµ¬í˜„ ìš°ì„ ìˆœìœ„ ê²°ì •
- [x] ì˜ì¡´ì„± í™•ì¸ ì™„ë£Œ
- [x] ì œì•½ ì‚¬í•­ ê²€í†  ì™„ë£Œ

---

## ë³€ê²½ ì´ë ¥

| ë²„ì „ | ì¼ì | ì‘ì„±ì | ë³€ê²½ ë‚´ìš© |
|------|------|--------|----------|
| 1.0 | 2025-12-28 | Claude | ìµœì´ˆ ì‘ì„± |
