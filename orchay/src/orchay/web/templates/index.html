{% extends "base.html" %}

{% block content %}
<!-- Header -->
<header class="bg-gray-800 border-b border-gray-700 px-4 py-3">
    <div class="flex justify-between items-center">
        <h1 class="text-xl font-bold">orchay - {{ project_name }}</h1>
        <span class="bg-blue-600 px-3 py-1 rounded text-sm">MODE: {{ mode }}</span>
    </div>
</header>

<!-- Worker Bar -->
<div id="workers-bar"
     class="bg-gray-800 border-b border-gray-700 px-4 py-2"
     hx-get="/api/workers"
     hx-trigger="load, every 5s"
     hx-swap="innerHTML">
    <div class="animate-pulse flex items-center gap-4">
        <span class="text-gray-500">Workers: 로딩 중...</span>
    </div>
</div>

<!-- Main Content: 2-Column Layout -->
<main class="flex h-[calc(100vh-100px)]">
    <!-- Left: WBS Tree -->
    <div class="w-1/2 border-r border-gray-700 overflow-auto p-4"
         id="tree-panel"
         hx-get="/api/tree"
         hx-trigger="load, every 5s"
         hx-swap="innerHTML">
        <div class="animate-pulse">
            <div class="h-4 bg-gray-700 rounded w-3/4 mb-2"></div>
            <div class="h-4 bg-gray-700 rounded w-1/2 mb-2 ml-4"></div>
            <div class="h-4 bg-gray-700 rounded w-2/3 mb-2 ml-4"></div>
        </div>
    </div>

    <!-- Right: Task Detail -->
    <div class="w-1/2 overflow-auto p-4" id="detail-panel">
        <div class="flex items-center justify-center h-full text-gray-500">
            <p>Task를 선택하세요</p>
        </div>
    </div>
</main>
{% endblock %}
