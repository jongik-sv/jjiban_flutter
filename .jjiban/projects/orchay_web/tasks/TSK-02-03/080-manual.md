# WBS 트리 인터랙션 사용 매뉴얼

> **Task ID**: TSK-02-03
> **버전**: 1.0
> **작성일**: 2025-12-28

---

## 1. 개요

### 1.1 기능 소개
orchay 웹 모니터링 UI의 WBS 트리 인터랙션 기능입니다. HTMX를 활용하여 부드러운 사용자 경험을 제공합니다.

### 1.2 대상 사용자
- orchay 스케줄러를 모니터링하는 개발자
- WBS 진행 상황을 확인하는 PM/관리자

### 1.3 주요 기능
- WP/ACT 노드 확장/축소 (클릭 토글)
- Task 선택 시 상세 패널 로드
- 5초마다 자동 갱신
- 선택 상태 유지 (브라우저 새로고침 후에도)

---

## 2. 시작하기

### 2.1 사전 요구사항
- orchay 스케줄러 실행 중
- 웹 모드 활성화 (`--web` 또는 `--web-only` 옵션)

### 2.2 접근 방법
1. orchay 실행:
   ```bash
   cd orchay
   uv run orchay <project> --web
   ```
2. 브라우저에서 `http://localhost:8080` 접속

---

## 3. 사용 방법

### 3.1 트리 탐색

#### WP/ACT 노드 펼치기/접기
- **방법**: WP 또는 ACT 노드 클릭
- **동작**: 하위 노드가 펼쳐지거나 접힘
- **표시**: ▶ (접힘) / ▼ (펼침) 아이콘
- **애니메이션**: 0.3초 부드러운 전환

#### Task 선택
- **방법**: Task 노드 클릭
- **동작**: 우측 상세 패널에 Task 정보 로드
- **표시**: 선택된 Task는 파란색 테두리 하이라이트

### 3.2 자동 갱신
- **주기**: 5초마다
- **범위**: WBS 트리 전체, Worker 상태 바
- **상태 유지**: 펼쳐진 WP와 선택된 Task는 갱신 후에도 유지

### 3.3 상태 색상

| 상태 | 색상 | 의미 |
|------|------|------|
| [ ] | 회색 | Todo (예정) |
| [bd] | 주황색 | 기본설계 |
| [dd] | 노란색 | 상세설계 |
| [ap] | 보라색 | 설계승인 |
| [im] | 파란색 | 구현 중 |
| [xx] | 녹색 | 완료 |

### 3.4 진행률 표시
- WP 및 ACT 노드에 진행률 바 표시
- 계산 방식: `완료된 하위 Task 수 / 전체 하위 Task 수 × 100%`

---

## 4. FAQ

### Q: 트리가 갱신되지 않아요
**A**: 네트워크 연결을 확인하세요. 우측 상단에 에러 토스트가 표시되면 서버 연결 문제입니다.

### Q: 선택한 Task가 사라졌어요
**A**: Task가 완료되었거나 WBS가 변경되었을 수 있습니다. 트리를 다시 탐색하세요.

### Q: 펼친 상태가 초기화되었어요
**A**: 브라우저의 localStorage가 초기화되었을 수 있습니다. 다시 펼쳐주세요.

---

## 5. 문제 해결

### 에러: "네트워크 연결 실패"
- **원인**: orchay 서버가 중지됨
- **해결**: `orchay --web` 명령으로 서버 재시작

### 에러: "요청한 리소스를 찾을 수 없습니다"
- **원인**: WBS 파일 변경으로 Task/WP가 삭제됨
- **해결**: 페이지 새로고침

### 느린 응답
- **원인**: 네트워크 지연 또는 서버 부하
- **해결**: 잠시 후 재시도

---

## 6. 참고 자료

### 6.1 관련 문서
- 설계 문서: `010-design.md`
- 구현 보고서: `030-implementation.md`
- PRD: `.jjiban/projects/orchay_web/prd.md`

### 6.2 기술 스택
- HTMX 2.0: 동적 HTML 교체
- Tailwind CSS 3.x: 스타일링
- localStorage: 클라이언트 상태 저장

### 6.3 키보드 단축키 (향후 지원 예정)
| 키 | 동작 |
|-----|------|
| ↑/↓ | Task 이동 |
| Enter | 선택/확장 |
| Esc | 선택 해제 |

---

<!--
TSK-02-03 사용 매뉴얼
Version: 1.0
Created: 2025-12-28
-->
